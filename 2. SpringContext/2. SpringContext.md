# The Spring Context: Defining Beans

The context is a place in the memory of an app in which we add all the object instances that we want the framework to manage

*By default Spring doesn't know any of the objects that are defined in the app, they need to be added to the context*

Generally Spring uses those instances in the context to *connect your app to various functionalities it provides*

Those instances that are added to the context are called ***beans***

## Creating a Maven project 

Maven is a **build tool that you can use to easily manage an app's build process** regardless of the framework used

#### When creating a Maven project few attributes should be specified
- **group Id**: *this Id is used to group multiple related projects*
- **artifact Id**: *the name of the current application*
- **version**: *version of the current implemented software*
![](https://image2url.com/r2/default/images/1771272958155-28c7347c-02cd-4f0c-8e40-bac9bd41bed6.png)

#### When a project is configurated to use Maven those things will be observerd:
- **The "src" folder**: *Everything that belongs to the app will be put there*
- **pom.xml**: *Configuration regarding the Maven project will be put here*

![](https://image2url.com/r2/default/images/1771273095003-b79d9cdb-ef7c-4795-b0af-761032159259.png)

#### Maven organizes the “src” folder into the following folders:
- **"main" folder**: *The application source code is there, the folder contains as well sources for java and other resources*
- **"test" folder**: *here the source code for the UTs are stored*

In order to **add new dependencies** every dependency should be written inside the **\<dependencies>\</dependencies> tags** and each depedency shall be represented by **\<depedency>\</depedency> tags**

Maven will serach for the dependency by the values you have provided for these three attributes and will download the dependencies from Maven Central *(this is a Maven repo)*

![](https://image2url.com/r2/default/images/1771273571222-7236a75e-c7f8-4467-8c7a-8a5e7906a6ea.png)

## Adding new beans to the Spring context

#### There are multiple ways to add beans in the Spring context:
- Using the @Bean annotation
- Using stereotype annotations
- Programmatically 

Spring is designed to be *modular*, this means that **is not needed to add the whole Spring to your app, so use those parts that you need** 

The Spring dependency that is needed for the context is called **Spring Context** you can find it from Maven central and add it to your project like that 

![](https://image2url.com/r2/default/images/1771273988353-bc97f48a-b39b-4fac-930e-220ed3024ece.png)

When Spring Context is added to the application, you can create it like that  
```java
public class Main {
    public static void main(String[] args) {
        var context = new AnnotationConfigApplicationContext();
    }
}
```
Typically Spring offers multiple implementation over the Spring Context, but the most commonly used is **AnnotationConfigApplicationContext** because *it is based on annotations*

### Using the @Bean annotation to add beans into the Spring Context 

*In order to begin this example image you have a class Parrot with only one attribute String name and getters/setters for it*

**Our objective would be to add the Parrot object into the Spring Context**
#### In order to do that we have to follow these steps
- We have to define a configuration class *(anottated with @Configuration)* for the project *(this class will be used to configure the Spring Context)*
-  Add a method to the configuration class that returns the object instance you want to
add to the context and annotate the method with the **@Bean** annotation.
- Make Spring use the configuration class defined in the first bullet point

In code this should look like this

```java
@Configuration
public class ProjectConfig {

   @Bean
   Parrot parrot() {
     Parrot p = new Parrot();
     p.setName("Koko");
     return p;
   }
}
```
*A configuration class is a special class in Spring application that it is used to instruct Spring to do specific actions. For example, we can tell Spring to create beans or to enable certain functionalities*

*When method is annotated with @Bean, Spring will know that it needs to call this method when it initializes its context and adds the returned value to the context*

*Keep in mind that the method's name becomes the name of the bean defined in the context*

**By adding the instance to the Spring Context using @Bean, Spring will be aware of the object, enabling it to manage the instance**