# The Spring context: Wiring beans 

In apps , we need to refer from one bean to another  **by telling Spring to provide a reference to an instance from its context**

#### There are multiple ways to establish relationship between the beans:
- Link the beans by directly calling the methods that create them *(also called wiring)*
- Enable Spring to provide us a value using a method parameter *(also called auto-wiring)*
- Using Dependency Injection principle with ```@Autowired```

## Implementing relationships among beans defined in the configuration file

*This section is about implementing relationship between two beeans defined in the configuration class annotating methods with the ```@Bean``` annotation*

*In this section we will work with the classes Person and Parrot, the objective is to connect the Parrot with the Person, in other words establish a relationship between them*

*The Parrot and the Person have 'has-A' relationship*
![](https://image2url.com/r2/default/images/1771333694119-5732fbf1-1c10-48a0-87e3-4261426536a3.png)

Inserting the two instances in the Spring Context would look like this
```java
@Configuration
public class ProjectConfig {
    @Bean
    public Parrot parrot() {
        Parrot p = new Parrot();
        p.setName("Deni");
        return p;
    }

    @Bean
    public Person person() {
        Person p = new Person();
        p.setName("Koko");
        return p;
    }
}
```
### Wiring the beans using a direct method call between the @Bean methods

The way to achieve this wiring is to **call one bean defining method from another one in the configuration class**
```java
@Configuration
public class ProjectConfig {
    @Bean
    public Parrot parrot() {
        Parrot p = new Parrot();
        p.setName("Koko");
        return p;
    }

    @Bean
    public Person person() {
        Person p = new Person();
        p.setName("Deni");
        // If the parrot instance doesnt exists in the context, Spring will create it and add it 
        // otherwise Spring will take directly the instance of the context to connect it with the Human class
        p.setParrot(parrot());
        return p;
    }
}
```

### Wiring the beans using the @Bean annotated method's parameters 

Instead of directly calling the method that defines the bean we wish to refer to, **we add a parameter to the method of the corresponding type of object, and we rely on Spring to provide us a value through that parameter**
```java
@Configuration
public class ProjectConfig {
    @Bean
    public Parrot parrot() {
        Parrot p = new Parrot();
        p.setName("Koko");
        return p;
    }

    @Bean
    // Spring is instructed to provide a beam from its context by defining a parameter for the method
    public Person person(Parrot parrot) {
        Person p = new Person();
        p.setName("Deni");
        // The parrot attributed is set using the reference Spring provided
        p.setParrot(parrot);
        return p;
    }
}

```
Spring sets a particular value into the parameter of the person() method when calling it and resolves a dependency of this method.

DI *(also knowns as Dependency Injection)* is a technique involving the framework setting a value into a specific field or parameter


## Using the ```@Autowired``` annotation to inject beans 